# ๐ฏ ูุธุงู ุงูุชุนุฑู ุนูู ุงูููุงูุง (Intent Recognition System)

## ูุธุงู ุฐูู ูููู ููุงูุง ุงููุณุชุฎุฏู ูู ุฅุฏุงุฑุฉ ุญุณุงุจุงุชู ุนูู ููุตุงุช ุงูุชูุงุตู ุงูุงุฌุชูุงุนู

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุงูููุงูุง ูู ูุญุฑู ุฐูุงุก ุงุตุทูุงุนู ูุชูุฏู ูุตูู ุฎุตูุตุงู ููุชูุงูู ูุน **n8n Orchestra Agent** ูููู ูุชุญููู ุทูุจุงุช ุงููุณุชุฎุฏููู ูู ุฅุฏุงุฑุฉ ุญุณุงุจุงุชูู ุนูู ููุตุงุช ุงูุชูุงุตู ุงูุงุฌุชูุงุนู.

### โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

- ๐ **ุฏุนู ุซูุงุฆู ุงููุบุฉ**: ุนุฑุจู ูุฅูุฌููุฒู
- ๐ฏ **20+ ููุฉ ูุฎุชููุฉ**: ุชุบุทู ุฌููุน ุฌูุงูุจ ุฅุฏุงุฑุฉ ูุณุงุฆู ุงูุชูุงุตู
- ๐ **ุงุณุชุฎุฑุงุฌ ุฐูู ููููุงูุงุช**: ุฃุณูุงุกุ ุชูุงุฑูุฎุ ูุญุชููุ ููุตุงุช
- ๐ **ูุณุชูู ุซูุฉ ุฏููู**: ููู ููุฉ ููุชุดูุฉ
- ๐ **API ุณุฑูุน ูููุซูู**: ูุจูู ุนูู FastAPI
- ๐ **ุฌุงูุฒ ููุชูุงูู**: ูุน n8n ูุฃู ูุธุงู ุขุฎุฑ

---

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    User Input (Text)                         โ
โ              "ุฃุถู ุญุณุงุจ ุชููุชุฑ ุงูุฎุงุต ุจู"                      โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              Intent Detection API                            โ
โ           POST /api/intent/detect                            โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              Intent Service                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ 1. Pattern Matching (Regex)                          โ   โ
โ  โ 2. Platform Detection                                 โ   โ
โ  โ 3. Entity Extraction                                  โ   โ
โ  โ 4. Confidence Calculation                             โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                Intent Result                                 โ
โ  {                                                           โ
โ    "intent": "add_account",                                  โ
โ    "confidence": 0.95,                                       โ
โ    "platform": "twitter",                                    โ
โ    "entities": {...},                                        โ
โ    "suggestions": [...]                                      โ
โ  }                                                           โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              n8n Orchestra Agent                             โ
โ         (Routes to appropriate workflow)                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฆ ุงููููุงุช ุงูุฑุฆูุณูุฉ

```
mojv1/
โโโ app/
โ   โโโ services/
โ   โ   โโโ intent_service.py          # ูุญุฑู ุงูุชุนุฑู ุนูู ุงูููุงูุง
โ   โโโ api/
โ   โ   โโโ intent_routes.py           # API endpoints
โ   โโโ auth/
โ       โโโ dependencies.py            # ุงููุตุงุฏูุฉ
โโโ test_intent_system.py              # ุงุฎุชุจุงุฑุงุช ุดุงููุฉ
โโโ INTENT_SYSTEM_API.md               # ูุซุงุฆู API
โโโ N8N_INTENT_INTEGRATION.json        # ูุซุงู workflow ูู n8n
โโโ INTENT_SYSTEM_README.md            # ูุฐุง ุงูููู
```

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### 1. ุงูุชุซุจูุช

```bash
# ุชุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ (ุฅู ูู ุชูู ูุซุจุชุฉ)
pip install -r requirements.txt
```

### 2. ุชุดุบูู Backend

```bash
python run.py
```

ุณูุนูู Backend ุนูู: `http://localhost:8000`

### 3. ุงุฎุชุจุงุฑ ุงููุธุงู

```bash
python test_intent_system.py
```

### 4. ุงููุตูู ุฅูู API Documentation

ุงูุชุญ ุงููุชุตูุญ ุนูู:
```
http://localhost:8000/docs
```

---

## ๐ฏ ุงูููุงูุง ุงููุฏุนููุฉ

### 1๏ธโฃ ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช (Account Management)

| ุงูููุฉ | ุงููุตู | ุฃูุซูุฉ |
|-------|-------|-------|
| `add_account` | ุฅุถุงูุฉ ุญุณุงุจ ุฌุฏูุฏ | "ุฃุถู ุญุณุงุจ ุชููุชุฑ"ุ "ุฑุจุท ุญุณุงุจ ุงูุณุชูุฑุงู" |
| `remove_account` | ุญุฐู ุญุณุงุจ | "ุงุญุฐู ุญุณุงุจ ููุณุจูู" |
| `list_accounts` | ุนุฑุถ ุงูุญุณุงุจุงุช | "ุงุนุฑุถ ุญุณุงุจุงุชู" |
| `switch_account` | ุงูุชุจุฏูู ุจูู ุงูุญุณุงุจุงุช | "ุงูุชูู ุฅูู ุญุณุงุจ @username" |

### 2๏ธโฃ ุฅุฏุงุฑุฉ ุงููุญุชูู (Content Management)

| ุงูููุฉ | ุงููุตู | ุฃูุซูุฉ |
|-------|-------|-------|
| `create_post` | ุฅูุดุงุก ููุดูุฑ | "ุงูุดุฑ ุชุบุฑูุฏุฉ"ุ "ุงูุชุจ ููุดูุฑ" |
| `schedule_post` | ุฌุฏููุฉ ููุดูุฑ | "ุฌุฏูู ููุดูุฑ ุบุฏุงู" |
| `delete_post` | ุญุฐู ููุดูุฑ | "ุงุญุฐู ุขุฎุฑ ููุดูุฑ" |
| `edit_post` | ุชุนุฏูู ููุดูุฑ | "ุนุฏู ุงูููุดูุฑ ุงูุฃุฎูุฑ" |

### 3๏ธโฃ ุงูุชุญูููุงุช (Analytics)

| ุงูููุฉ | ุงููุตู | ุฃูุซูุฉ |
|-------|-------|-------|
| `get_analytics` | ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช | "ุฃุฑูู ุงูุฅุญุตุงุฆูุงุช" |
| `get_engagement` | ูุนุฏู ุงูุชูุงุนู | "ูุง ูู ูุนุฏู ุงูุชูุงุนูุ" |
| `get_followers` | ุนุฏุฏ ุงููุชุงุจุนูู | "ูู ุนุฏุฏ ุงููุชุงุจุนููุ" |

### 4๏ธโฃ ุงูุชูุงุนู (Interaction)

| ุงูููุฉ | ุงููุตู | ุฃูุซูุฉ |
|-------|-------|-------|
| `reply_to_comment` | ุงูุฑุฏ ุนูู ุชุนููู | "ุฑุฏ ุนูู ุขุฎุฑ ุชุนููู" |
| `like_post` | ุฅุนุฌุงุจ ุจููุดูุฑ | "ุฃุนุฌุจูู ุงูููุดูุฑ" |
| `share_post` | ูุดุงุฑูุฉ ููุดูุฑ | "ุดุงุฑู ุงูููุดูุฑ" |

### 5๏ธโฃ ุงูุฃุชูุชุฉ (Automation)

| ุงูููุฉ | ุงููุตู | ุฃูุซูุฉ |
|-------|-------|-------|
| `create_automation` | ุฅูุดุงุก ุฃุชูุชุฉ | "ุฃุชูุช ุงููุดุฑ ุงููููู" |
| `manage_automation` | ุฅุฏุงุฑุฉ ุงูุฃุชูุชุฉ | "ุฃููู ุงูุฃุชูุชุฉ" |

---

## ๐ ุงุณุชุฎุฏุงู API

### ูุซุงู 1: ุงูุชุนุฑู ุนูู ุงูููุฉ

```bash
curl -X POST "http://localhost:8000/api/intent/detect" \
  -H "Content-Type: application/json" \
  -d '{
    "text": "ุฃุถู ุญุณุงุจ ุชููุชุฑ ุงูุฎุงุต ุจู"
  }'
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "intent": "add_account",
  "confidence": 0.95,
  "entities": {},
  "platform": "twitter",
  "raw_text": "ุฃุถู ุญุณุงุจ ุชููุชุฑ ุงูุฎุงุต ุจู",
  "timestamp": "2026-01-12T18:30:00",
  "suggestions": [
    "ูู ุจุชูููุฑ ุจูุงูุงุช ุงูุงุนุชูุงุฏ ููุญุณุงุจ",
    "ุงุฎุชุฑ ุงูููุตุฉ: Twitter, Instagram, Facebook, LinkedIn"
  ]
}
```

### ูุซุงู 2: ูุดุฑ ูุญุชูู

```bash
curl -X POST "http://localhost:8000/api/intent/detect" \
  -H "Content-Type: application/json" \
  -d '{
    "text": "ุงูุดุฑ ุนูู ุงูุณุชูุฑุงู \"ุตุจุงุญ ุงูุฎูุฑ!\""
  }'
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "intent": "create_post",
  "confidence": 0.92,
  "entities": {
    "post_content": "ุตุจุงุญ ุงูุฎูุฑ!"
  },
  "platform": "instagram",
  "suggestions": [
    "ููููู ุฅุถุงูุฉ ุตูุฑ ุฃู ููุฏูู"
  ]
}
```

---

## ๐ ุงูุชูุงูู ูุน n8n

### ุฎุทูุงุช ุงูุชูุงูู

1. **ุงุณุชูุฑุงุฏ Workflow**
   - ุงูุชุญ n8n
   - ุงุฐูุจ ุฅูู Workflows โ Import
   - ุงุณุชูุฑุฏ ููู `N8N_INTENT_INTEGRATION.json`

2. **ุชูููู HTTP Request Node**
   ```javascript
   URL: http://localhost:8000/api/intent/detect
   Method: POST
   Body: {
     "text": "{{ $json.user_message }}"
   }
   ```

3. **ูุนุงูุฌุฉ ุงูุงุณุชุฌุงุจุฉ**
   ```javascript
   const intent = $input.item.json.intent;
   const confidence = $input.item.json.confidence;
   
   if (confidence < 0.7) {
     return { action: 'clarify' };
   }
   
   // ุชูุฌูู ุญุณุจ ุงูููุฉ
   switch(intent) {
     case "add_account":
       return { action: "add_account_flow" };
     case "create_post":
       return { action: "create_post_flow" };
     // ... ุฅูุฎ
   }
   ```

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ูุญูู

```bash
# ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
python test_intent_system.py
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
๐งช ุงุฎุชุจุงุฑ ูุธุงู ุงูุชุนุฑู ุนูู ุงูููุงูุง
=====================================

1. ุงููุต: 'ุฃุถู ุญุณุงุจ ุชููุชุฑ ุงูุฎุงุต ุจู'
   โ ุงูููุฉ: add_account
   โ ุงูุซูุฉ: 95.00%
   โ ุงูููุตุฉ: twitter

...

โ ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ุงูุชููุช ุจูุฌุงุญ!
```

### ุงุฎุชุจุงุฑ ูู Swagger UI

1. ุงูุชุญ `http://localhost:8000/docs`
2. ุงุฐูุจ ุฅูู `/api/intent/detect`
3. ุงุถุบุท "Try it out"
4. ุฃุฏุฎู ูุต ููุงุฎุชุจุงุฑ
5. ุงุถุบุท "Execute"

---

## ๐ ุงุณุชุฎุฑุงุฌ ุงูููุงูุงุช (Entity Extraction)

ุงููุธุงู ูุณุชุฎุฑุฌ ุชููุงุฆูุงู:

### 1. ุฃุณูุงุก ุงูุญุณุงุจุงุช
```
"ุงูุดุฑ ุนูู ุญุณุงุจ @myaccount"
โ entities: { "account_name": "myaccount" }
```

### 2. ุงูุชูุงุฑูุฎ ูุงูุฃููุงุช
```
"ุฌุฏูู ููุดูุฑ ุบุฏุงู ุงูุณุงุนุฉ 15:30"
โ entities: { 
    "schedule_time": {"type": "time", "value": "15:30"}
  }
```

### 3. ูุญุชูู ุงูููุดูุฑุงุช
```
"ุงูุดุฑ 'ูุฐุง ูุญุชูู ุฑุงุฆุน!'"
โ entities: { "post_content": "ูุฐุง ูุญุชูู ุฑุงุฆุน!" }
```

### 4. ุงูุฃุฑูุงู
```
"ุฃุฑูู ุฅุญุตุงุฆูุงุช ุขุฎุฑ 30 ููู"
โ entities: { "numbers": [30] }
```

---

## ๐ก ุฃูุถู ุงูููุงุฑุณุงุช

### 1. ุงูุชุญูู ูู ูุณุชูู ุงูุซูุฉ

```javascript
if (confidence < 0.7) {
  // ุงุทูุจ ุชูุถูุญ ูู ุงููุณุชุฎุฏู
  return "ุนุฐุฑุงูุ ูู ุฃููู ุทูุจู. ูู ููููู ุฅุนุงุฏุฉ ุงูุตูุงุบุฉุ";
}
```

### 2. ุงุณุชุฎุฏุงู ุงูุงูุชุฑุงุญุงุช

```javascript
const suggestions = response.suggestions;
// ุงุนุฑุถ ุงูุงูุชุฑุงุญุงุช ูููุณุชุฎุฏู ูุชุญุณูู ุงูุชุฌุฑุจุฉ
```

### 3. ูุนุงูุฌุฉ ุงูููุงูุงุช ุงููุงูุตุฉ

```javascript
if (!entities.post_content) {
  return "ูุง ูู ุงููุญุชูู ุงูุฐู ุชุฑูุฏ ูุดุฑูุ";
}
```

---

## ๐ง ุงูุชุฎุตูุต ูุงูุชุทููุฑ

### ุฅุถุงูุฉ ููุฉ ุฌุฏูุฏุฉ

1. ุงูุชุญ `app/services/intent_service.py`
2. ุฃุถู ุงูููุฉ ุฅูู `IntentType`:
```python
class IntentType(str, Enum):
    # ... ุงูููุงูุง ุงูููุฌูุฏุฉ
    NEW_INTENT = "new_intent"
```

3. ุฃุถู ุงูุฃููุงุท ูู `_initialize_patterns()`:
```python
IntentType.NEW_INTENT: [
    r"ููุท 1",
    r"ููุท 2",
    r"pattern 1"
]
```

### ุฅุถุงูุฉ ููุตุฉ ุฌุฏูุฏุฉ

```python
class Platform(str, Enum):
    # ... ุงูููุตุงุช ุงูููุฌูุฏุฉ
    NEW_PLATFORM = "new_platform"
```

---

## ๐ ุงูุฃุฏุงุก ูุงูููุงุณุงุช

- **ููุช ุงูุงุณุชุฌุงุจุฉ**: < 100ms
- **ุฏูุฉ ุงูุชุนุฑู**: > 90% ููููุงูุง ุงูุดุงุฆุนุฉ
- **ุฏุนู ุงููุบุงุช**: ุนุฑุจู ูุฅูุฌููุฒู
- **ูุนุฏู ุงูุซูุฉ**: 0.7 - 1.0

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูููุฉ ุบูุฑ ุตุญูุญุฉ

**ุงูุญู:**
- ุชุญูู ูู ุตูุงุบุฉ ุงููุต
- ุฃุถู ุงููุฒูุฏ ูู ุงูุฃููุงุท ูู `intent_patterns`
- ุงุณุชุฎุฏู ูููุงุช ููุชุงุญูุฉ ุฃูุถุญ

### ุงููุดููุฉ: ูุง ูุชู ุงุณุชุฎุฑุงุฌ ุงูููุงูุงุช

**ุงูุญู:**
- ุชุญูู ูู ุชูุณูู ุงููุต
- ุงุณุชุฎุฏู ุนูุงูุงุช ุงูุชุจุงุณ ูููุญุชูู
- ุฑุงุฌุน `_extract_entities()` function

### ุงููุดููุฉ: ูุณุชูู ุซูุฉ ููุฎูุถ

**ุงูุญู:**
- ุฃุนุฏ ุตูุงุบุฉ ุงููุต ุจุดูู ุฃูุถุญ
- ุงุณุชุฎุฏู ูููุงุช ููุชุงุญูุฉ ูู ุงูุฃูุซูุฉ
- ุชุญูู ูู ุฏุนู ุงููุบุฉ

---

## ๐ ุงูููุงุฑุฏ ุงูุฅุถุงููุฉ

- ๐ [ูุซุงุฆู API ุงููุงููุฉ](./INTENT_SYSTEM_API.md)
- ๐ [ูุซุงู ุชูุงูู n8n](./N8N_INTENT_INTEGRATION.json)
- ๐งช [ููู ุงูุงุฎุชุจุงุฑ](./test_intent_system.py)
- ๐ [Swagger UI](http://localhost:8000/docs)

---

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ููููู:
- ุฅุถุงูุฉ ููุงูุง ุฌุฏูุฏุฉ
- ุชุญุณูู ุฏูุฉ ุงูุชุนุฑู
- ุฅุถุงูุฉ ุฏุนู ูุบุงุช ุฌุฏูุฏุฉ
- ุชุญุณูู ุงุณุชุฎุฑุงุฌ ุงูููุงูุงุช

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ุฌุฒุก ูู **ููุฌ AI - ูุธุงู ุฅุฏุงุฑุฉ ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู**

---

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุงุณุชูุณุงุฑุงุช:
- ุงูุชุญ Issue ุนูู GitHub
- ุฑุงุฌุน ุงููุซุงุฆู
- ุงุฎุชุจุฑ ุงููุธุงู ูุญููุงู

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ:** ูุฑูู ููุฌ AI  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงูุชุงุฑูุฎ:** ููุงูุฑ 2026  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุฅูุชุงุฌ
